![Logo](logo.png)

PubRunner's website is at http://www.pubrunner.org. This project was part of the [January 2017 NCBI Hackathon](https://www.ncbi.nlm.nih.gov/news/11-17-2016-biomedical-informatics-hackathon/)

#What is PubRunner

PubRunner is a framework which runs on a user defined schedule allowing you to download latest PubMed abstracts,
run them through your favorite text mining tool and then uploads the results to Public FTP. Additionally the user has the option to post a link to their FTP on the public PubRunner website (www.pubrunner.org).

The overview below shows how PubRunner manages a "black-box text-mining tool".

![Overview diagram](overview.png)

#How to use PubRunner

##Installation options:

If you want to use Docker

####Hub
  1. `docker pull ncbihackathons/pubrunner` command to pull the image from the DockerHub (hyperlink
  2. `docker run ncbihackathons/pubrunner` Run the docker image from the master shell script

####Git
#####PubRunner
  1. `git clone https://github.com/NCBI-Hackathons/PubRunner.git`
  2. `cd server`
  3. `docker build --rm -t pubrunner/pubrunner .`
  4. `docker run -t -i pubrunner/pubrunner`

#####FTP
  1. `docker pull ftp_pubrunner` command to pull the image from the DockerHub (hyperlink
  2. `docker run -p 21:21 ftp_pubrunner` Run the docker image from the master shell script

#####Website
  1. `git clone https://github.com/NCBI-Hackathons/PubRunner.git`
  2. cd Website
  3. `docker build --rm -t pubrunner/website .`
  4. `docker run -t -i pubrunner/website`



###Non-Docker Option:

1. Clone repo or Download to appropriate directory.
    Source code for PubRunner is found at [server/](server/)

##Configuration
####Update the JSON file [server/tools.json](https://github.com/NCBI-Hackathons/PubRunner/blob/master/server/tools.json) with your tool's information

The settings.py file defines a few parameters in order for PubRunner to run. That includes the paths for data to be     stored, i.e. the MEDLINE abstract (DB), the output of tools (OUTPUT), and the tools themselves (TOOLS). When tools fail running, PubRunner can allow more tries, in case the tool failure is due to some random error (e.g., an HTTP request that punctually timed out). The number of attempts PubRunner can give to each tool is set by the FAIL_LIMIT setting. Finally, PubRunner needs FTP credentials in order to export results generated by the tools.

####Add FTP credentials to [server/settings.py](server/settings.py)

PubRunner keeps track of every tool in the tools.json file. Some parameters in this file are supposed to be provided by the tool’s authors, while some are filled by PubRunner. Tool authors need to specify the name, description, version number and URL for their tool. PubRunner also needs technical details to run the tool, such as the command to launch (python, perl, java…), the main file to be launched and flags (if any). By default, PubRunner kills any process that runs more than sixty minutes, but users are free to set this limit higher for their tool. The other parameters are filled by PubRunner and correspond to whether the tool ran successfully recently, when it was last run and if it is active. When a tool fails to run a few months in a row, automatic updates will be disabled by PubRunner.  
  - Provide an example parameter file to demonstrate a configuration.

  - set the Cron Job
